<!DOCTYPE html>
<html>
    <head>
        <!-- interop.js sets the title of the window to that of the page -->
        <title>index</title>

        <!-- All stylesheets get inlined except if they have the attribute data-inline-ignore -->
        <link rel="stylesheet" href="css/style.css">

        <!-- All scripts get inlined except if they have the attribute data-inline-ignore -->
        <!-- 
            In this script you can see: 
                cs_navigate that call a C# function to navigate between pages
                cs_initialize that changes the title of the window to that of the page
         -->
        <script src="script/interop.js"></script>

        
        <script>
            // This is an example of sending and receiving data from the C# backend
            const updateContent = function(arg) {
                console.log("up");

                // cs_extern_send can consume any number of arguments
                // the arguments become a string in C#
                // then a promise is returned, where the reponse is a JSON object
                cs_extern_send(arg).then((rep) => {
                    document.getElementById("response").innerHTML = "args sent to c# was: " + rep.result;
                    document.getElementById("response").style.backgroundColor = "lightgreen";
                }).catch((err) => {
                    document.getElementById("response").innerHTML = err.result;
                    document.getElementById("response").style.backgroundColor = "lightcoral";
                });
            }
        </script>
    </head>
    <body>
        <div class="content">
            <img class="success" src="https://abs.twimg.com/emoji/v2/svg/1f389.svg" data-inline-ignore>
            <p>Page sucessfully loaded!</p>
            <fieldset class="examples">
                <legend>Interact with C# backend</legend>
                <div class="button">
                    <button onclick="updateContent(1)">Click here to update content</button>
                </div>
                <div class="result" id="response" style="background-color: lightcoral;">no content here yet</div>
            </fieldset>
        </div>
        <div class="tab-bar">
            <div class="tab active">

            </div>
            <div class="tab inactive">
                <div class="tab-content">
                    <img class="open-page" src="assets/arrow-bar-up.svg" onclick="cs_navigate('view1')">
                </div>
            </div>
        </div>
    </body>
</html>